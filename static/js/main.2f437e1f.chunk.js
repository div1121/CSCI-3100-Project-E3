(this["webpackJsonpmagic-maze"]=this["webpackJsonpmagic-maze"]||[]).push([[0],{225:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(24),o=a.n(s),i=a(7),A=(a(92),a(22)),c=a.n(A),l=a(26),d=a(229),u=a(228),h=a(84),m=a.n(h).a.create({baseURL:"https://magic-maze-backend.herokuapp.com"}),p=a(44),j=a.n(p),b=a(0);function y(e){var t=e.setUserID,a=e.setUsername,r=e.name,n=e.email,s=e.password,o=e.rePassword,i=function(){var e=Object(l.a)(c.a.mark((function e(i){var A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),A=!1,0!=r.length){e.next=6;break}alert("Name is empty!"),e.next=37;break;case 6:if(0!=n.length){e.next=10;break}alert("Email is empty!"),e.next=37;break;case 10:if(0!=j.a.isEmail(n)){e.next=14;break}alert("Email does not exist!"),e.next=37;break;case 14:if(0!=s.length){e.next=18;break}alert("Password is empty!"),e.next=37;break;case 18:if(!(s.length<8)){e.next=22;break}alert("Password should contain at least 8 letters!"),e.next=37;break;case 22:if(s==o){e.next=26;break}alert("Re-entered password is not same to new password!"),e.next=37;break;case 26:return e.prev=26,e.next=29,m.post("/loginAccount",{email:n}).then((function(e){0==e.data.length?A=!0:alert("This email has been used for registration. You may register with another email or login.")}));case 29:if(!A){e.next=32;break}return e.next=32,m.post("/createAccount",{name:r,email:n,password:s}).then((function(e){t(e.data._id),a(e.data.name),sessionStorage.setItem("userID",e.data._id),sessionStorage.setItem("username",e.data.name),alert("Register successfully")}));case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(26),alert("Internal error");case 37:case"end":return e.stop()}}),e,null,[[26,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(d.a,{variant:"secondary",onClick:i,children:"Register"})}function f(e){var t=e.setUserID,a=e.setUsername,r=e.email,n=e.password,s=function(){var e=Object(l.a)(c.a.mark((function e(s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,m.post("/loginAccount",{email:r,password:n}).then((function(e){0==e.data.length?alert("Invalid email or password"):(t(e.data[0]._id),a(e.data[0].name),sessionStorage.setItem("userID",e.data[0]._id),sessionStorage.setItem("username",e.data[0].name),alert("Login successfully"))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert("Internal Error");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(d.a,{variant:"secondary",onClick:s,children:"Login"})}function v(e){var t=e.setUserID,a=e.setUsername,r=function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(null),a(null),sessionStorage.clear(),alert("Logout successfully")}catch(r){alert("Failed to connect")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(d.a,{size:"lg",variant:"secondary",onClick:r,children:"Log out"})}function g(e){var t=e.setUserID,a=e.setUsername,r=n.a.useState("Login"),s=Object(i.a)(r,2),o=s[0],A=s[1],c=n.a.useState(""),l=Object(i.a)(c,2),d=l[0],u=l[1],h=n.a.useState(""),m=Object(i.a)(h,2),p=m[0],j=m[1],v=n.a.useState(""),g=Object(i.a)(v,2),O=g[0],x=g[1],D=n.a.useState(""),w=Object(i.a)(D,2),I=w[0],k=w[1];return n.a.useEffect((function(){u(""),j(""),x(""),k("")}),[o]),Object(b.jsxs)("div",{className:"login_form",children:["Register"===o?Object(b.jsx)("input",{type:"name",placeholder:"name",value:d,onChange:function(e){return u(e.target.value)},className:"form_input"}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("input",{type:"email",placeholder:"email",value:p,onChange:function(e){return j(e.target.value)},className:"form_input"}),Object(b.jsx)("input",{type:"password",placeholder:"password",value:O,onChange:function(e){return x(e.target.value)},className:"form_input"}),"Register"===o?Object(b.jsx)("input",{type:"password",placeholder:"Re-enter password",value:I,onChange:function(e){return k(e.target.value)},className:"form_input"}):Object(b.jsx)(b.Fragment,{}),"Login"===o?Object(b.jsx)(f,{setUserID:t,setUsername:a,email:p,password:O}):Object(b.jsx)(y,{setUserID:t,setUsername:a,name:d,email:p,password:O,rePassword:I}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"You may also "}),Object(b.jsx)("a",{href:"#",onClick:function(){A((function(e){return"Login"===e?"Register":"Login"}))},children:"Login"===o?"register a new account":"go to login"})]})]})}function O(e){var t=e.setUserID,a=e.setUsername,r=n.a.useState(!1),s=Object(i.a)(r,2),o=s[0],A=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{size:"lg",variant:"secondary",onClick:function(){return A(!0)},children:"Login"}),Object(b.jsxs)(u.a,{show:o,onHide:function(){return A(!1)},children:[Object(b.jsx)(u.a.Header,{closeButton:!0,children:Object(b.jsx)(u.a.Title,{children:"Join us!"})}),Object(b.jsx)(u.a.Body,{children:Object(b.jsx)(g,{setUserID:t,setUsername:a})})]})]})}function x(e){var t=e.userID,a=e.password,r=e.newPassword,n=e.reNewPassword,s=e.setShow,o=function(){var e=Object(l.a)(c.a.mark((function e(o){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,o.preventDefault(),e.prev=2,e.next=5,m.post("/loginAccount",{_id:t,password:a}).then((function(e){0==e.data.length?alert("Password is wrong"):0==r.length?alert("New password is empty!"):r.length<8?alert("New password should contain at least 8 letters!"):r!=n?alert("Re-entered new password is not same to new password!"):i=!0}));case 5:if(!i){e.next=8;break}return e.next=8,m.post("/updateAccount",{_id:t,password:r}).then((function(e){1==e.data.ok&&alert("Password is updated"),s(!1)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Internal Error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(d.a,{variant:"primary",onClick:o,children:"Confirm"})}function D(e){var t=e.userID,a=n.a.useState(!1),r=Object(i.a)(a,2),s=r[0],o=r[1],A=n.a.useState(""),c=Object(i.a)(A,2),l=c[0],h=c[1],m=n.a.useState(""),p=Object(i.a)(m,2),j=p[0],y=p[1],f=n.a.useState(""),v=Object(i.a)(f,2),g=v[0],O=v[1];return n.a.useEffect((function(){h(""),y(""),O("")}),[s]),Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{size:"md",variant:"secondary",onClick:function(){return o(!0)},children:"Change password"}),Object(b.jsxs)(u.a,{show:s,onHide:function(){return o(!1)},children:[Object(b.jsx)(u.a.Header,{closeButton:!0,children:Object(b.jsx)(u.a.Title,{children:"Change password"})}),Object(b.jsx)(u.a.Body,{children:Object(b.jsxs)("form",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"password",value:l,placeholder:"Current password",onChange:function(e){return h(e.target.value)},className:"form_input"})}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"password",value:j,placeholder:"New password",onChange:function(e){return y(e.target.value)},className:"form_input"})}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"password",value:g,placeholder:"Re-enter new password",onChange:function(e){return O(e.target.value)},className:"form_input"})})]})}),Object(b.jsx)(u.a.Footer,{children:Object(b.jsx)(x,{userID:t,password:l,newPassword:j,reNewPassword:g,setShow:o})})]})]})}function w(e){var t=e.userID,a=e.username,r=(e.setUsername,n.a.useState(!1)),s=Object(i.a)(r,2),o=s[0],A=s[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{size:"lg",variant:"secondary",onClick:function(){return A(!0)},children:"Profile"}),Object(b.jsxs)(u.a,{show:o,onHide:function(){return A(!1)},children:[Object(b.jsx)(u.a.Header,{closeButton:!0,children:Object(b.jsx)(u.a.Title,{children:"Player profile"})}),Object(b.jsxs)(u.a.Body,{children:[Object(b.jsxs)("div",{children:["Name: ",a]}),Object(b.jsx)("div",{children:"Symbol: #"}),Object(b.jsx)("div",{children:"Game record: "})]}),Object(b.jsxs)(u.a.Footer,{children:[Object(b.jsx)(D,{userID:t}),Object(b.jsx)(d.a,{variant:"primary",children:"Save changes"})]})]})]})}function I(e){var t=e.userID,a=e.username,r=e.setUserID,n=e.setUsername;return Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{href:"https://github.com/luyou00001/CSCI-3100-Project-E3\t",children:"Magic Maze"}),Object(b.jsx)("span",{children:"\u2022 A game created by CSCI3100 Project Group E3"}),null===t?Object(b.jsx)(O,{setUserID:r,setUsername:n}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("span",{children:["Welcome ",a]}),Object(b.jsx)(w,{userID:t,username:a,setUsername:n}),Object(b.jsx)(v,{setUserID:r,setUsername:n})]})]})}var k=a(227);function H(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(b.jsxs)("button",{className:"MenuButton",onClick:function(){n(!a)},children:["Matching ",a?Object(b.jsx)(k.a,{animation:"border",role:"status"}):Object(b.jsx)(b.Fragment,{})]})}function M(e){var t=e.setMode;return Object(b.jsx)("button",{className:"MenuButton",onClick:function(){t("FindingRoom")},children:"Custom room"})}function B(e){var t=e.setMode;return Object(b.jsx)("button",{className:"MenuButton",onClick:function(){t("Game")},children:"Demo"})}var L=function(e){var t=e.setMode;return Object(b.jsxs)("div",{className:"menu",children:[Object(b.jsx)("h1",{children:"Menu"}),Object(b.jsx)("div",{children:Object(b.jsx)(H,{})}),Object(b.jsx)("div",{children:Object(b.jsx)(M,{setMode:t})}),Object(b.jsx)("div",{children:Object(b.jsx)(B,{setMode:t})})]})},C=a(34),P=a(12),S=a(13),N=a(5),K=a(15),q=a(14),U=a(86),Q=a.n(U)()("https://magic-maze-backend.herokuapp.com"),z=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(e){var r;return Object(P.a)(this,a),(r=t.call(this,e)).state={roomid:r.props.roomid,playerid:r.props.userid,name:r.props.name,value:"",history:[]},r.handleChange=r.handleChange.bind(Object(N.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(N.a)(r)),r}return Object(S.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(Object(C.a)({},r,a))}},{key:"handleSubmit",value:function(e){var t={roomid:this.state.roomid,userid:this.state.playerid,name:this.state.name,message:this.state.value};Q.emit("messages",t),this.setState({value:""}),e.preventDefault()}},{key:"componentDidMount",value:function(){var e=this;console.log("hihiihhiihihiihi"),fetch("https://magic-maze-backend.herokuapp.com/messages?"+new URLSearchParams({roomid:this.props.roomid})).then((function(e){return e.json()})).then((function(t){e.setState({history:t})})),Q.on("message",(function(t){var a=e.state.history;a.push(t),e.setState({history:a})}))}},{key:"render",value:function(){for(var e=this.state.history,t=[],a=0;a<e.length;a++){var r=e[a].name,n=e[a].message;t.push(Object(b.jsxs)("div",{children:[r,": ",n]}))}return Object(b.jsxs)("div",{className:"chat",children:[Object(b.jsx)("h1",{children:"Chat Room"}),t,Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsx)("label",{children:"Input Text"}),Object(b.jsx)("br",{}),Object(b.jsx)("textarea",{name:"value",type:"text",value:this.state.value,placeholder:"Send a message",onChange:this.handleChange}),Object(b.jsx)("input",{type:"submit",value:"Submit"})]})]})}}]),a}(n.a.Component),E=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:this.props.roomname}),Object(b.jsxs)("td",{children:[this.props.numofusers,"/4"]}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:this.props.handleadd,children:"Add"})})]})}}]),a}(r.Component),F=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(e){var r;return Object(P.a)(this,a),(r=t.call(this,e)).state={room_list:[],input_room_name:"",loading:!1},r.handleChange=r.handleChange.bind(Object(N.a)(r)),r.handleCreateRoom=r.handleCreateRoom.bind(Object(N.a)(r)),r.handleEnterRoom=r.handleEnterRoom.bind(Object(N.a)(r)),r.handleRank=r.handleRank.bind(Object(N.a)(r)),r}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://magic-maze-backend.herokuapp.com/room").then((function(e){return e.json()})).then((function(t){return e.setState({room_list:t})})),Q.on("createroom",(function(t){console.log(t);var a=e.state.room_list;a.push(t),e.setState({room_list:a})})),Q.on("addroomlist",(function(t){var a=e.state.room_list,r=a.findIndex((function(e){return e._id===t._id}));-1!==r&&(a[r].numofusers+=1),e.setState({room_list:a})})),Q.on("downroomlist",(function(t){var a=e.state.room_list,r=a.findIndex((function(e){return e._id===t._id}));-1!==r&&(a[r].numofusers-=1),e.setState({room_list:a})})),Q.on("deleteroom",(function(t){var a=e.state.room_list,r=function(e){return e._id===t._id};-1!==a.findIndex(r)&&a.splice(a.findIndex(r),1),e.setState({room_list:a})})),Q.on("getroominfo",(function(t){console.log("OK"),console.log(t),e.setState({loading:!1}),e.props.setGameroomenter(t.roomname),e.props.setGameroomid(t.roomid)})),Q.on("failjoin",(function(e){alert("Fail to join the room: "+e.roomname)}))}},{key:"handleRank",value:function(){this.setState({loading:!0}),Q.emit("ranking",{userid:this.props.user_id,name:this.props.user_name})}},{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;this.setState(Object(C.a)({},r,a))}},{key:"handleCreateRoom",value:function(e){var t={roomname:this.state.input_room_name,userid:this.props.user_id,name:this.props.user_name};Q.emit("createroom",t),this.setState({input_room_name:"",loading:!0}),e.preventDefault()}},{key:"handleEnterRoom",value:function(e,t){var a={roomid:e,roomname:t,userid:this.props.user_id,name:this.props.user_name};Q.emit("joinroom",a),this.setState({loading:!0})}},{key:"render",value:function(){var e=this,t=this.state.room_list.map((function(t){return Object(b.jsx)(E,{roomname:t.roomname,numofusers:t.numofusers,handleadd:function(){return e.handleEnterRoom(t._id,t.roomname)},loading:e.state.loading})}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Room List"}),Object(b.jsx)("table",{children:t}),Object(b.jsx)("form",{onSubmit:this.handleCreateRoom,children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("legend",{children:"Create Room:"}),Object(b.jsx)("label",{children:"Room Name"}),Object(b.jsx)("input",{name:"input_room_name",type:"text",value:this.state.input_room_name,onChange:this.handleChange}),Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"submit",value:"Submit"})]})}),Object(b.jsx)("button",{onClick:this.handleRank,children:"Rank"})]})}}]),a}(n.a.Component),W=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){var e="Ready";return this.props.isready&&(e="Cancel"),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:this.props.playername}),null!=this.props.handleready&&Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:this.props.handleready,children:e})}),this.props.position&&4===this.props.ready_num&&Object(b.jsx)("td",{children:Object(b.jsx)("button",{onClick:this.props.startGame,children:"Start"})})]})}}]),a}(r.Component),G=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(e){var r;return Object(P.a)(this,a),(r=t.call(this,e)).state={roomid:r.props.roomid,roomname:r.props.roomname,player_list:[],player_id:[],player_num:0,ready_num:0,ready_state:[]},r.addready=r.addready.bind(Object(N.a)(r)),r.minusready=r.minusready.bind(Object(N.a)(r)),r.handleLeaveRoom=r.handleLeaveRoom.bind(Object(N.a)(r)),r}return Object(S.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://magic-maze-backend.herokuapp.com/roommember?"+new URLSearchParams({roomid:this.props.roomid})).then((function(e){return e.json()})).then((function(t){for(var a=e.state.player_list,r=e.state.player_id,n=e.state.player_num,s=e.state.ready_num,o=e.state.ready_state,i=0;i<t.length;i++)a.push(t[i].name),r.push(t[i].userid),n++,o.push(t[i].ready),t[i].ready&&s++;console.log(t),e.setState({player_list:a,player_id:r,player_num:n,ready_num:s,ready_state:o})})),Q.on("addroommember",(function(t){var a=e.state.player_list,r=e.state.player_id,n=e.state.player_num,s=e.state.ready_state;a.push(t.name),r.push(t.userid),n+=1,s.push(!1),e.setState({player_list:a,player_id:r,player_num:n,ready_state:s})})),Q.on("readychange",(function(t){e.setState({ready_num:t.ready_num,ready_state:t.ready_state})})),Q.on("decreaseroommember",(function(t){var a=e.state.player_list,r=e.state.player_id,n=e.state.player_num,s=e.state.ready_state,o=e.state.ready_num,i=r.findIndex((function(e){return e===t.userid}));s[i]&&(o-=1),n-=1,a.splice(i,1),s.splice(i,1),r.splice(i,1),e.setState({player_list:a,player_id:r,player_num:n,ready_num:o,ready_state:s})}))}},{key:"addready",value:function(e){var t=this.state.ready_state;t[e]=!0;var a=this.state.ready_num+1;Q.emit("readychange",{roomid:this.state.roomid,userid:this.props.playerid,ready_num:a,ready_state:t,save:!0})}},{key:"minusready",value:function(e){var t=this.state.ready_state;t[e]=!1;var a=this.state.ready_num-1;Q.emit("readychange",{roomid:this.state.roomid,userid:this.props.playerid,ready_num:a,ready_state:t,save:!1})}},{key:"handleLeaveRoom",value:function(){Q.emit("leaveroom",{roomid:this.state.roomid,roomname:this.state.roomname,userid:this.props.playerid,name:this.props.playername}),this.props.setGameroomenter(null),this.props.setGameroomid(null)}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){e.state.player_id[a]===e.props.playerid?e.state.ready_state[a]?t.push((function(){return e.minusready(a)})):t.push((function(){return e.addready(a)})):t.push(null)},r=0;r<this.state.player_num;r++)a(r);for(var n=[],s=0;s<this.state.player_num;s++)n.push(Object(b.jsx)(W,{isready:this.state.ready_state[s],playername:this.state.player_list[s],handleready:t[s],position:0===s&&null!==t[0],ready_num:this.state.ready_num}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Game Room"}),Object(b.jsxs)("h1",{children:["You're in: ",this.props.roomname]}),Object(b.jsx)("table",{children:n}),Object(b.jsxs)("h2",{children:["Number of ready: ",this.state.ready_num]}),Object(b.jsx)("button",{onClick:this.handleLeaveRoom,children:"Leave"})]})}}]),a}(r.Component),J=a(87),V=a.n(J),R=a.p+"static/media/blue_floor.fa8adefa.jpg",X=a.p+"static/media/black_floor.6c1f5898.jpg",T=a.p+"static/media/fire.c1dc726a.gif",Z=a.p+"static/media/red_entrance.c4edcd80.gif",Y=a.p+"static/media/blue_entrance.e46c9ef3.gif",_=a.p+"static/media/vanish.2088218f.gif",$="data:image/gif;base64,R0lGODlhQABAAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAABAAEAAAAJFlI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Kr1is1qt9yuV1AAADs=";V.a.start();var ee=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(e){var r;return Object(P.a)(this,a),(r=t.call(this,e)).state={board:[],vanish:[],entityStates:{empty:0,entrance:1,player:2}},r.setPlayer=r.setPlayer.bind(Object(N.a)(r)),r}return Object(S.a)(a,[{key:"componentWillMount",value:function(){this.initializeGameBoard()}},{key:"initializeGameBoard",value:function(){for(var e=this.props,t=e.boardHeight,a=e.boardWidth,r=e.areaHeight,n=e.areaWidth,s=e.playerPosition,o=this.state.entityStates,i=[],A=[],c=0;c<a+t-1;c++)A.push(!1);A[a+t-2]=!0;for(var l=0;l<t;l++){for(var d=[],u=0;u<a;u++){for(var h=[],m=0;m<r;m++){for(var p=[],j=0;j<n;j++)0===j&&0===m||j===n-1&&0===m||j===n-1&&m===r-1||0===j&&m===r-1?p.push(o.entrance):p.push(o.empty);h.push(p)}d.push(h)}i.push(d)}this.setState({board:i,vanish:A,areaHeight:r,areaWidth:n,playerPosition:s})}},{key:"componentWillReceiveProps",value:function(e){this.setPlayer(e)}},{key:"setPlayer",value:function(e){for(var t,a,r,n,s=e.playerNumber,o=e.playerPosition,i=e.prevPlayerPos,A=e.boardHeight,c=e.boardWidth,l=e.areaHeight,d=e.areaWidth,u=this.state,h=u.board,m=u.vanish,p=u.entityStates,j=A+c-2,b=0;b<s;b++)t=i[b].x,a=i[b].y,h[Math.floor(a/l)][Math.floor(t/d)][a%l][t%d]=p.empty;for(var y=0;y<s;y++)r=o[y].x,n=o[y].y,h[Math.floor(n/l)][Math.floor(r/d)][n%l][r%d]=p.player+y,Math.floor(n/l)+Math.floor(r/d)-1<j&&(j=Math.floor(n/l)+Math.floor(r/d)-1);for(var f=0;f<=j;f++)m[f]=!0;this.setState({board:h,playerPosition:o})}},{key:"render",value:function(){var e=this.props,t=(e.playerPosition,e.playerFacing),a=this.state,r=a.board,n=a.vanish,s=a.entityStates,o=[["data:image/gif;base64,R0lGODlhQABAAKIAAAAAAP///wA32jqW3fnxpXZ2dv///wAAACH5BAEAAAYALAAAAABAAEAAAAP/aLrcPTDKSaO7OOvKu/7g1Y1TaIZkOpxsppJt/LyebNO1HeOcfgrAoHBILAp9GqNyOURmmFClExOtNqcOq1aAzW6r3cYXHF6Mo+VLYc1uu9/stAZOr8sz9bz7jtH7C3xqf3mBDoOEhQyHdokLi3SNFwSTlJWWBJEal5uUmRmcnJ4YoJuikqSWpg6oqaoMrJWur7CTnjw0d7cvubopvL0jv8A9csPBxcbEacnKZbFmVrO1cs8KWtKY1J3QZArVztvW0QvfYd/X5OHg0+LdBuVd5+Pe6ubq6PTsjUcX/LIG/sQE+deOS7+BBAMyUKiKYUGCABF6AQLRYUSKCSUKxPhPJAKGZolALhAZiKQBk8I8iqhgi+VKCi1hviyRySRKZDId3NSQAAA7","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///wA32g00VzqW3Q00NDQ0DfLqnvnxpVc0DQwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJayU4682z/WAodmQpnuhXrlvqpmxMvHQos3V+3abu8z1fDkgSvgTIpHLJbCqNIqd0uoSGqFipFZTtVrcWr1gADo+75coZnZ6ss+0PYo5Q2BX0fP2ej4vyd3h6c4F9fiCAfIN7doaHFomNi4V0j3J0lIOZCJaQmAUGgpqgopydFIADCaWpq46nC3QHAIqadgCvsBOLvKa6iL2DvyHBwsOXxZXHnslzy8zNzxXNytIS1M6/RDyH2zfd3jHg4Svj5EV+5+Xp6uhx7e5tr2Ko1fL29Lv2afNe9dlx+rG5tq+MQDj6AN5TmI+gQn74/CX0tZBiw1gFLT35sNHago5qPpJ4lACSQslnJ0mKHJny40qPLVsOi/nSGk0k0uJR0NmJpwSfj4ACNacBxFB2HIx2GCZ0qTanFo6+g7ojqY4IADs=","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///wA32g00VzqW3Q00NDQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJayU4682z/WAodmQpnuhXrlvqpmxMvHQos3V+3abu8z1fDkgSvgTIpHLJbCqNIqd0uoSGqFipFZTtVrcWr1gADo+75coZnZ6ss+3PYX5Q2BX0/CHB7/PjInl3eHpzfn6AIYJ3hYaHf4lydIONe48JkZJzlI2XmJkVggUGhIWeoKGTAwileqeoE4t2la+wqZWOkLYguHSIu7y9lrrAt7i/xca0fckWwsOfzbHCyNILz9XWEzHaFtzdFN/gEuLj5eDn3ena65HPlUqVie+N8Y3z9Hr2hfj5dPt6+vk7ADCPQH8F6RzMl3DOQnoND0jDMs4NlYoSKGLUWJHjOI/gGEB2E5kMCDoeJ2+klLGyHTCT6lDGVAklAgA7","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///wA32g00VzqW3Q00NDQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJayU4682z/WAodmQpnuhXrlvqpmxMvHQos3V+3abu8z1fDkgSvgTIpHLJbCqNIqd0uoSGqFipFZTtVrcWr1gADo+75coZnZ6ss+1PYk6fH+74u2KvyMdFdXV5eXx9eH8hgXSDeIV+iHKKCYx6fI+QFZKTlI6HmJmSlAcKBQaGd5+giqIKAwinB6kUmqyWnrKqm6KouImLu7y9kXbAscLDurvHyMXGy7O/wM+5zdPQxNLWEjHaFtzdFN/g2zjj5Cvm50Hj4uzly6JKzaKI8UnzlPWU8viD+oz8+t1qYw+JwEsE9907GCwhwIUM/w0KeFAYlnQLLqbTaI7jOI/gGkB2E6mNpDUg4FB2U6mN5UkeKWGulNmSppAIADs="],["data:image/gif;base64,R0lGODlhQABAAKIAAAAAAP///8UPH+dIVvnxpXZ2dv///wAAACH5BAEAAAYALAAAAABAAEAAAAP/aLrcPTDKSaO7OOvKu/7g1Y1TaIZkOpxsppJt/LyebNO1HeOcfgrAoHBILAp9GqNyOURmmFClExOtNqcOq1aAzW6r3cYXHF6Mo+VLYc1uu9/stAZOr8sz9bz7jtH7C3xqf3mBDoOEhQyHdokLi3SNFwSTlJWWBJEal5uUmRmcnJ4YoJuikqSWpg6oqaoMrJWur7CTnjw0d7cvubopvL0jv8A9csPBxcbEacnKZbFmVrO1cs8KWtKY1J3QZArVztvW0QvfYd/X5OHg0+LdBuVd5+Pe6ubq6PTsjUcX/LIG/sQE+deOS7+BBAMyUKiKYUGCABF6AQLRYUSKCSUKxGiqIhkDj4VAKhDJhyRJYRIwnERGQWUFWy9FxIxkcmajmi1lJAAAOw==","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///8UPH+dIVg00Vw00NDQ0DfnxpVc0DQwMDP///wAAAAAAAAAAAAAAAAAAACH5BAEAAAoALAAAAABAAEAAAAT/UMlJax04682z/WAodmQpnuhXrlvqpmw8vHQos3V+3abu8z1fDkgSvgTIpHLJbCqNIqd0uoSGqFipFZTtVrcWr1gADo+75coZnZ6ss+3PYX5I2BP0fP2ej4vyd3h6c4F9fiCAfIN7doaHFomNi4V0j3J0lIOZB5aQmAUGgpqgopydFIAECKWpq46nCnkAipp2AK+wE4u7prmIvIO+IcDBwpfElcaeyHPKy8zOFczJ0RLTzb5EPIfaN9zdMd/gK+LjRX7m5Ojp53Hs7W2vYqjU8fXzuvVp8l702HH82FjTVyYgnHz/7CXENzDhvnv9EPZSOJFhLIKWnnzQWE0BRzVJPTpK+EiBpDOTI0OKROlRZUeWLIXBdFltJpJo8Cjk7LRTQs9HP3+W0wBC6DoORTsIC6o0W1MLRt093YFURwQAOw==","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///8UPH+dIVg00Vw00NDQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJax04682z/WAodmQpnuhXrlvqpmw8vHQos3V+3abu8z1fDkgSvgTIpHLJbCqNIqd0uoSGqFipFZTtVrcWr1gADo+75coZnZ6ss+3PYX5Q2BX0/CHB7/PjInl3eHpzfn6AIYJ3hYaHf4lydIONe48JkZJzlI2XmJkVggUGhIWeoKGTBAileqeoE4t2la+wqZWOkLYguHSIu7y9lrrAt7i/xca0fckWwsOfzbHCyNILz9XWEzHaFtzdFN/gEuLj5eDn3ena65HPlUqVie+N8Y3z9Hr2hfj5dPt6+vk7ADCPQH8F6RzMl3DOQnoND0jDMs4NlYoSKGLUWJHjOI/gGEB2E5kMCDoeJ2+klLGyHTCT6lDGVAklAgA7","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///8UPH+dIVg00Vw00NDQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJax04682z/WAodmQpnuhXrlvqpmw8vHQos3V+3abu8z1fDkgSvgTIpHLJbCqNIqd0uoSGqFipFZTtVrcWr1gADo+75coZnZ6ss+1PYk6fH+74u2KvyMdFdXV5eXx9eH8hgXSDeIV+iHKKCYx6fI+QFZKTlI6HmJmSlAcKBQaGd5+giqIKBAinB6kUmqyWnrKqm6KouImLu7y9kXbAscLDurvHyMXGy7O/wM+5zdPQxNLWEjHaFtzdFN/g2zjj5Cvm50Hj4uzly6JKzaKI8UnzlPWU8viD+oz8+t1qYw+JwEsE9907GCwhwIUM/w0KeFAYlnQLLqbTaI7jOI/gGkB2E6mNpDUg4FB2U6mN5UkeKWGulNmSppAIADs="],["data:image/gif;base64,R0lGODlhQABAAKIAAAAAAP///xbGDBOhDvnxpXZ2dv///wAAACH5BAEAAAYALAAAAABAAEAAAAP/aLrcLTDKSaO7OOvKu/7g1Y1TaIZkKpxsppJt/LyebNO1HeOcfg7AoHBILAp9GqNyOURmmFClExOtNqcOq3aAzW6r3cYXHF6Mo+VLYc1uu9/stAZOr8sz9bz7jtH7C3xqf3mBDoOEhQyHdokLi3SNFwSTlJWWBJEal5uUmRmcnJ4YoJuikqSWpg6oqaoMrJWur7CTnjw0d7cvubopvL0jv8A9csPBxcbEacnKZbFmVrO1cs8KWtKY1J3QZArVztvW0QvfYd/X5OHg0+LdBuVd5+Pe6ubq6PTsjUcX/LIG/sQE+deOS7+BBAMyUKiKYUGCABF6AQLRYUSKCSUKxGiqIhkDj4VAKhDJhyRJYRIwnERGQWUFWy9FxIxkcmajmi1lJAAAOw==","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///w00Vw00NBbGDBOhDjQ0DfnxpVc0DQwMDP///wAAAAAAAAAAAAAAAAAAACH5BAEAAAoALAAAAABAAEAAAAT/UMlJayU4682z/WAodmQpnuhXrlvqpmxMvHQos3V+3abu8z1fDkgSvgrIpHLJbCqNIqd0uoSGqFipFZTtVrcWr7gADo+75coZnZ6ss+3PYX5I2BP0fP2ej4vyd3h6c4F9fiCAfIN7doaHFomNi4V0j3J0lIOZB5aQmAMGgpqgopydFIACCKWpq46nCpGsmIpzsJeLi7d/ubq7iL2Dv8DBr8MTxXrHnsm2y6jNzs8S0dKwRDyH2Dfa2zHd3ivg4UV+5OLm5+Vx6uttr2LQ1mnwXvKmcfVs1JV++nDI+uUTqCBewHll/mG5d0ghFYb+CBrkh9DSkw8XpxVMwoWjxo1IOjqG/JhRjUeNJSmkXLZSQsthL1/+inlymDsKNzvllLDzUc+e4zSAAJqOw9AOv34i3aXUKNOlFoiKiAAAOw==","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///w00Vw00NBbGDBOhDjQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJayU4682z/WAodmQpnuhXrlvqpmxMvHQos3V+3abu8z1fDkgSvgrIpHLJbCqNIqd0uoSGqFipFZTtVrcWr7gADo+75coZnZ6ss+3PYX5Q2BX0/CHB7/PjInl3eHpzfn6AIYJ3hYaHf4lydIONe48JkZJzlI2XmJkVggMGhIWeoKGTAgileqeoE4t2la+wqZWOkLYguHSIu7y9lrrAt7i/xca0fckWwsOfzbHCyNILz9XWEzHaFtzdFN/gEuLj5eDn3ena65HPlUqVie+N8Y3z9Hr2hfj5dPt6+vk7ADCPQH8F6RzMl3DOQnoND0jDMs4NlYoSKGLUWJHjOI/gGEB2E5kMCDoeJ2+klLGyHTCT6lDGVAklAgA7","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///w00Vw00NBbGDBOhDjQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJayU4682z/WAodmQpnuhXrlvqpmxMvHQos3V+3abu8z1fDkgSvgrIpHLJbCqNIqd0uoSGqFipFZTtVrcWr7gADo+75coZnZ6ss+1PYk6fH+74u2KvyMdFdXV5eXx9eH8hgXSDeIV+iHKKCYx6fI+QFZKTlI6HmJmSlAcKAwaGd5+giqIKAginB6kUmqyWnrKqm6KouImLu7y9kXbAscLDurvHyMXGy7O/wM+5zdPQxNLWEjHaFtzdFN/g2zjj5Cvm50Hj4uzly6JKzaKI8UnzlPWU8viD+oz8+t1qYw+JwEsE9907GCwhwIUM/w0KeFAYlnQLLqbTaI7jOI/gGkB2E6mNpDUg4FB2U6mN5UkeKWGulNmSppAIADs="],["data:image/gif;base64,R0lGODlhQABAAKIAAAAAAP///7QAnogXmPnxpXZ2dv///wAAACH5BAEAAAYALAAAAABAAEAAAAP/aLrcLTDKSaO7OOvKu/7g1Y1TaIZkKpxsppJt/LyebNO1HeOcfg7AoHBILAp9GqNyOURmmFClExOtNqcOq3aAzW6r3cYXHF6Mo+VLYc1uu9/stAZOr8sz9bz7jtH7C3xqf3mBDoOEhQyHdokLi3SNFwSTlJWWBJEal5uUmRmcnJ4YoJuikqSWpg6oqaoMrJWur7CTnjw0d7cvubopvL0jv8A9csPBxcbEacnKZbFmVrO1cs8KWtKY1J3QZArVztvW0QvfYd/X5OHg0+LdBuVd5+Pe6ubq6PTsjUcX/LIG/sQE+deOS7+BBAMyUKiKYUGCABF6AQLRYUSKCSUKxGiqIhkDj4VAKhDJhyRJYRIwnERGQWUFWy9FxIxkcmajmi1lJAAAOw==","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///7QAnogXmA00Vw00NDQ0DfnxpVc0DQwMDP///wAAAAAAAAAAAAAAAAAAACH5BAEAAAoALAAAAABAAEAAAAT/UMlJaxU4682z/WAodmQpnuhXrlvqpmwsvHQos3V+3abu8z1fDkgSvgbIpHLJbCqNIqd0uoSGqFipFZTtVrcWr3gADo+75coZnZ6ss+3PYX5I2BP0fP2ej4vyd3h6c4F9fiCAfIN7doaHFomNi4V0j3J0lIOZB5aQmAUGgpqgopydFIAECKWpq46nCpGsmIpzsJeLi7d/ubq7iL2Dv8DBr8MTxXrHnsm2y6jNzs8S0dKwRDyH2Dfa2zHd3ivg4UV+5OLm5+Vx6uttr2LQ1mnwXvKmcfVs1JV++nDI+uUTqCBewHll/mG5d0ghFYb+CBrkh9DSkw8XpxVMwoWjxo1IOjqG/JhRjUeNJSmkXLZSQsthL1/+inlymDsKNzvllLDzUc+e4zSAAJqOw9AOv34i3aXUKNOlFoiKiAAAOw==","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///7QAnogXmA00Vw00NDQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJaxU4682z/WAodmQpnuhXrlvqpmwsvHQos3V+3abu8z1fDkgSvgbIpHLJbCqNIqd0uoSGqFipFZTtVrcWr3gADo+75coZnZ6ss+3PYX5Q2BX0/CHB7/PjInl3eHpzfn6AIYJ3hYaHf4lydIONe48JkZJzlI2XmJkVggUGhIWeoKGTBAileqeoE4t2la+wqZWOkLYguHSIu7y9lrrAt7i/xca0fckWwsOfzbHCyNILz9XWEzHaFtzdFN/gEuLj5eDn3ena65HPlUqVie+N8Y3z9Hr2hfj5dPt6+vk7ADCPQH8F6RzMl3DOQnoND0jDMs4NlYoSKGLUWJHjOI/gGEB2E5kMCDoeJ2+klLGyHTCT6lDGVAklAgA7","data:image/gif;base64,R0lGODlhQABAALMAAAAAAP///7QAnogXmA00Vw00NDQ0DfnxpVc0DXZ2dgwMDP///wAAAAAAAAAAAAAAACH5BAEAAAsALAAAAABAAEAAAAT/cMlJaxU4682z/WAodmQpnuhXrlvqpmwsvHQos3V+3abu8z1fDkgSvgbIpHLJbCqNIqd0uoSGqFipFZTtVrcWr3gADo+75coZnZ6ss+1PYk6fH+74u2KvyMdFdXV5eXx9eH8hgXSDeIV+iHKKCYx6fI+QFZKTlI6HmJmSlAcKBQaGd5+giqIKBAinB6kUmqyWnrKqm6KouImLu7y9kXbAscLDurvHyMXGy7O/wM+5zdPQxNLWEjHaFtzdFN/g2zjj5Cvm50Hj4uzly6JKzaKI8UnzlPWU8viD+oz8+t1qYw+JwEsE9907GCwhwIUM/w0KeFAYlnQLLqbTaI7jOI/gGkB2E6mNpDUg4FB2U6mN5UkeKWGulNmSppAIADs="]];return console.log(r),Object(b.jsx)("div",{children:r.map((function(e,a){return Object(b.jsxs)("tr",{children:[e.map((function(e,r){var i=Y,A="data:image/jpeg;base64,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";return(a+r)%2===0&&(i=Z,A=R),n[a+r]&&(i=$,A=_),Object(b.jsx)("td",{style:{backgroundImage:"url(".concat(A,")"),textAlign:"center",verticalAlign:"middle"},children:Object(b.jsx)("table",{className:"area",cellSpacing:"0",id:"table",border:"2px",width:"100",height:"100",textAlign:"center",RULES:"NONE",bordercolor:"black",children:Object(b.jsx)("tbody",{children:e.map((function(e){return Object(b.jsx)("tr",{children:e.map((function(e){var a=$;return A===_?a=$:e===s.entrance?a=i:e>=s.player&&(a=o[e-s.player][t[e-s.player]]),Object(b.jsx)("td",{className:"area",children:Object(b.jsx)("img",{align:"center",height:"15",width:"15",src:a})})}))})}))})})})})),Object(b.jsx)("td",{style:{backgroundImage:"url(".concat(X,")")},children:Object(b.jsx)("table",{cellSpacing:"0",border:"0px",width:"105",height:"100",style:{backgroundImage:"url(".concat(T,")")}})})]})}))})}}]),a}(r.Component),te=a.p+"static/media/bakground.2924c2be.jpg",ae=(a(223),a(23)),re=function(e){Object(K.a)(a,e);var t=Object(q.a)(a);function a(e){var r;return Object(P.a)(this,a),(r=t.call(this,e)).state={win:!1,showGameBoard:!1,boardHeight:0,boardWidth:0,areaHeight:0,areaWidth:0,randomEntrances:[],randomPositions:[],playerNumber:0,playerFacing:[],playerPosition:[],prevPlayerPos:[],totalMoves:0},r.initializeBoardPlayer=r.initializeBoardPlayer.bind(Object(N.a)(r)),r.startGame=r.startGame.bind(Object(N.a)(r)),r.setEntrances=r.setEntrances.bind(Object(N.a)(r)),r.countTotalMoves=r.countTotalMoves.bind(Object(N.a)(r)),r.handleKeyUp=r.handleKeyUp.bind(Object(N.a)(r)),r.handleKeyDown=r.handleKeyDown.bind(Object(N.a)(r)),r.handleKeyRight=r.handleKeyRight.bind(Object(N.a)(r)),r.handleKeyLeft=r.handleKeyLeft.bind(Object(N.a)(r)),r.makeMove=r.makeMove.bind(Object(N.a)(r)),r}return Object(S.a)(a,[{key:"componentWillMount",value:function(){this.initializeBoardPlayer()}},{key:"initializeBoardPlayer",value:function(){for(var e=this,t=[],a=0;a<4;a++)t.push(1);t[0]=0,t[1]=1,t[2]=2,t[3]=3;var r=[{x:Math.floor(2.5),y:Math.floor(2.5)},{x:Math.floor(2.5)+5,y:Math.floor(2.5)+15},{x:Math.floor(2.5)+10,y:Math.floor(2.5)+10},{x:Math.floor(2.5)+15,y:Math.floor(2.5)+5}],n=[{x:Math.floor(2.5),y:Math.floor(2.5)},{x:Math.floor(2.5)+5,y:Math.floor(2.5)+15},{x:Math.floor(2.5)+10,y:Math.floor(2.5)+10},{x:Math.floor(2.5)+15,y:Math.floor(2.5)+5}];this.setState({boardHeight:5,boardWidth:5,areaWidth:5,areaHeight:5,playerNumber:4,playerFacing:t,playerPosition:r,prevPlayerPos:n,showGameBoard:!0},(function(){e.startGame()}))}},{key:"startGame",value:function(){this.setEntrances()}},{key:"setEntrances",value:function(){for(var e,t=this.state,a=t.randomEntrances,r=t.boardHeight,n=t.boardWidth,s=0;s<r;s++)for(var o=0;o<n;o++){a.push([]);for(var i=[[1,-1],[1,0],[0,1],[-1,1]],A=4;A>0;){var c=o+i[e=Math.floor(Math.random()*A)][0],l=s+i[e][1];c<0||c>=r||l<0||l>=r?(a[o+s*n].push([]),a[o+s*n][4-A].push(o),a[o+s*n][4-A].push(s)):(a[o+s*n].push([]),a[o+s*n][4-A].push(c),a[o+s*n][4-A].push(l)),A--,i.splice(e,1)}}this.setState({randomEntrances:a})}},{key:"countTotalMoves",value:function(){this.setState({totalMoves:++this.state.totalMoves})}},{key:"handleKeyUp",value:function(e){e.preventDefault();var t=this.state,a=t.playerPosition,r=t.areaHeight;t.playerFacing[0]=0,Number(a[0].y)%r-1>=0&&this.makeMove(a[0].x,a[0].y-1)}},{key:"handleKeyDown",value:function(e){e.preventDefault();var t=this.state,a=t.playerPosition,r=t.areaHeight;t.playerFacing[0]=1,Number(a[0].y)%r+1<r&&this.makeMove(a[0].x,a[0].y+1)}},{key:"handleKeyRight",value:function(e){e.preventDefault();var t=this.state,a=t.playerPosition,r=t.areaWidth;t.playerFacing[0]=3,Number(a[0].x)%r+1<r&&this.makeMove(a[0].x+1,a[0].y)}},{key:"handleKeyLeft",value:function(e){e.preventDefault();var t=this.state,a=t.playerPosition,r=t.areaWidth;t.playerFacing[0]=2,Number(a[0].x)%r-1>=0&&this.makeMove(a[0].x-1,a[0].y)}},{key:"makeMove",value:function(e,t){var a=this.state,r=a.playerPosition,n=a.prevPlayerPos,s=a.randomEntrances,o=a.boardHeight,i=a.boardWidth,A=a.areaWidth,c=a.areaHeight,l=a.win,d={x:r[0].x,y:r[0].y};n[0]=d;var u=e%A,h=t%c;if(0===u&&0===h||u===A-1&&0===h||u===A-1&&h===c-1||0===u&&h===c-1){var m;m=0===u&&0===h?0:u===A-1&&0===h?1:u===A-1&&h===c-1?2:3;var p=Math.floor(e/A),j=Math.floor(t/c),b=s[p+j*i][m][0]*A+Math.floor(A/2),y=s[p+j*i][m][1]*c+Math.floor(c/2);r[0].x=b,r[0].y=y,Math.floor(b/A)===i-1&&Math.floor(y/c)===o-1&&(l=!0)}else r[0].x=e,r[0].y=t;this.setState({playerPosition:r,prevPlayerPos:n,win:l}),this.countTotalMoves()}},{key:"render",value:function(){var e=this.state,t=e.playerPosition,a=e.prevPlayerPos,r=e.randomEntrances,n=e.boardWidth,s=e.areaWidth,o=e.areaHeight,i=e.totalMoves,A=e.win,c="*GM Mode* Coordinates: ("+t[0].x+", "+t[0].y+") ",l=Math.floor(t[0].x/s)+Math.floor(t[0].y/o)*n;if(c+="Entrance: ",c+=a[0].x+" "+a[0].y,r[l])for(var d=0;d<4;d++)c+="("+r[l][d][0]+", "+r[l][d][1]+") ";return A&&(A=!1,alert("You win! Total moves: "+i)),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{style:{backgroundImage:"url(".concat(te,")"),height:"800px"},children:[Object(b.jsx)("div",{className:"status",children:c}),Object(b.jsx)(ae.b,{keyEventName:ae.a,keyValue:"ArrowUp",onKeyHandle:this.handleKeyUp}),Object(b.jsx)(ae.b,{keyEventName:ae.a,keyValue:"ArrowDown",onKeyHandle:this.handleKeyDown}),Object(b.jsx)(ae.b,{keyEventName:ae.a,keyValue:"ArrowRight",onKeyHandle:this.handleKeyRight}),Object(b.jsx)(ae.b,{keyEventName:ae.a,keyValue:"ArrowLeft",onKeyHandle:this.handleKeyLeft}),this.state.showGameBoard&&Object(b.jsx)(ee,{randomPositions:this.state.randomPositions,boardWidth:this.state.boardWidth,boardHeight:this.state.boardHeight,areaWidth:this.state.areaWidth,areaHeight:this.state.areaHeight,playerNumber:this.state.playerNumber,playerFacing:this.state.playerFacing,playerPosition:this.state.playerPosition,prevPlayerPos:this.state.prevPlayerPos,totalMoves:this.state.totalMoves})]})})}}]),a}(r.Component);var ne=function(e){var t=e.setMode;return Object(b.jsx)("button",{size:"lg",variant:"primary",onClick:function(){t("Home")},children:"Home"})};var se=function(){var e=n.a.useState(sessionStorage.getItem("userID")),t=Object(i.a)(e,2),a=t[0],r=t[1],s=n.a.useState(sessionStorage.getItem("username")),o=Object(i.a)(s,2),A=o[0],c=o[1],l=n.a.useState(null),d=Object(i.a)(l,2),u=d[0],h=d[1],m=n.a.useState(null),p=Object(i.a)(m,2),j=p[0],y=p[1],f=n.a.useState("Home"),v=Object(i.a)(f,2),g=v[0],O=v[1];return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("div",{className:"app_header",children:Object(b.jsx)(I,{userID:a,username:A,setUserID:r,setUsername:c})}),Object(b.jsxs)("div",{className:"app_body",children:["Game"===g?Object(b.jsx)(re,{}):Object(b.jsx)(b.Fragment,{children:null!==j?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(z,{roomid:j,userid:a,name:A}),Object(b.jsx)(G,{roomid:j,roomname:u,playername:A,playerid:a,setGameroomenter:h,setGameroomid:y})]}):"FindingRoom"===g?Object(b.jsx)(F,{user_id:a,user_name:A,setGameroomenter:h,setGameroomid:y}):"Demo"===g?Object(b.jsx)(re,{}):Object(b.jsx)(L,{setMode:O})}),Object(b.jsx)(ne,{setMode:O})]})]})};o.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(se,{})}),document.getElementById("root"))},92:function(e,t,a){}},[[225,1,2]]]);
//# sourceMappingURL=main.2f437e1f.chunk.js.map